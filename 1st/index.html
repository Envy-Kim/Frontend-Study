<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <title>Custom Elements / Shadow DOM</title>
    <script src="./custom_btn.js"></script>
    <script src="./custom_modal.js"></script>
    <!-- defer DOM이 로드 되어 HTML parsing 완료 후 스크립트 실행 -->
    <script src="./custom_list.js" defer></script>
</head>
<body>
    <section>
        <h2>Custom Element 종류</h2>

        <div>
            <!-- Autonomous custom elements -->
            <p>Autonomous custom elements</p>
            <autonomous-custom-btn id="btn1" name="btn1" value="btn1" eventType="alert">
                <slot slot="btn_text">버튼 alert</slot>
            </autonomous-custom-btn>

            <autonomous-custom-btn id="btn2" name="btn2" value="btn2" eventType="console">
                <slot slot="btn_text">버튼 console</slot>
            </autonomous-custom-btn>
        </div>

        <div>
            <!-- Customized built-in elements -->
            <p>Customized built-in elements</p>
            <button is="builtin-custom-btn">Click me : alert</button>
            <button is="builtin-custom-btn" eventType="console">Click me : console</button>
            <button is="builtin-custom-btn" disabled>Disabled</button>
        </div>
    </section>

    <section>
        <h2>Custom Element 만들기</h2>

        <simple-list
                id="list1"
                bgColor="white"
                activeColor="gray">
            <template id="li-template1">
                <li slot="item">test1</li>
            </template>
        </simple-list>

        <simple-list
                id="list2"
                listType="horizontal">
            <template id="li-template2">
                <li slot="item">
                    <div class="card">
                        <img src="images/store_thum01.png" class="card-img"/>
                        <p class="card-title">Title</p>
                    </div>
                </li>
            </template>
        </simple-list>

        <simple-modal
            id="item-modal"
            bgColor="">
            <slot slot="title">모달1</slot>
            <slot slot="content">모달1 컨텐츠</slot>
        </simple-modal>
    </section>

    <section>
        <h2>예제의 모달 수정</h2>

        <button onclick="showModal('modal1')">모달1</button>
        <button onclick="showModal('modal2')">모달2</button>

        <simple-modal
                id="modal1"
                bgColor="yellow">
            <slot slot="title">모달1</slot>
            <slot slot="content">모달1 컨텐츠</slot>
        </simple-modal>

        <simple-modal
                id="modal2"
                bgColor="pink">
            <slot slot="title">모달2</slot>
            <slot slot="content">모달2 컨텐츠</slot>
        </simple-modal>
    </section>

    <script>
        let listItem = [
            {
                title: '타이틀1',
                content: '내용1',
                bgColor: 'red',
            },
            {
                title: '타이틀2',
                content: '내용2',
                bgColor: 'yellow',
            },
            {
                title: '타이틀3',
                content: '내용3',
                bgColor: 'green',
            },
            {
                title: '타이틀4',
                content: '내용4',
                bgColor: 'blue',
            },
        ]

        let listItem2 = [
            {
                title: '가게1',
                content: '내용1',
                image: './images/store_thum01.png',
                bgColor: 'gray',
            },
            {
                title: '가게2',
                content: '내용2',
                image: './images/store_thum02.png',
                bgColor: 'white',
            },
            {
                title: '가게3',
                content: '내용3',
                image: './images/store_thum03.png',
                bgColor: 'pink',
            },
            {
                title: '가게4',
                content: '내용4',
                image: './images/store_thum04.png',
                bgColor: 'skyblue',
            },
            {
                title: '가게4',
                content: '내용5',
                image: './images/store_thum05.png',
                bgColor: 'brown',
            },
        ]

        listItem.map((item, index) => {
            let template = document.querySelector('#li-template1').cloneNode(true);

            let div = document.createElement('div');
            div.innerHTML = template.innerHTML.trim();
            div.querySelector('li').innerText = item.title;

            let itemClone = div.firstChild;
            itemClone.setAttribute('data-content', item.content);
            itemClone.setAttribute('data-index', index);
            document.querySelector('#list1').append(itemClone);
        })

        listItem2.map((item, index) => {
            let template = document.querySelector('#li-template2').cloneNode(true);

            let div = document.createElement('div');
            div.innerHTML = template.innerHTML.trim();
            div.querySelector('.card-title').innerText = item.title;
            div.querySelector('.card-img').setAttribute('src', item.image);

            let itemClone = div.firstChild;
            itemClone.setAttribute('data-content', item.content);
            itemClone.setAttribute('data-index', index);
            document.querySelector('#list2').append(itemClone);
        })
    </script>
</body>
</html>